<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>Sample app</title>
    <link rel="stylesheet" href="tarabish.css">

    <!-- import the click-counter -->
    <!-- <link rel="import" href="xclickcounter.html"> -->
  </head>
  <body>
    <h1>Tarabish</h1>

    <p>Hello world from Dart!</p>

    <p>Login Input, you are {{tarabish.loginName}}</p>
    <form on-submit="tarabish.do_login($event)">
      <input id="login-name" type="text" placeholder="Name">
      <input type="submit">
    </form>

    <form on-submit="tarabish.refresh_tables($event)">
      <!-- TODO: button instead -->
      <input type="submit" value="Refresh">
    </form>

    <button id="disconnect">Disconnect</button>

    <template instantiate="if tarabish.tableViews != null">
      <table>
        <thead>
          <tr><th>Id</th><th>Seat 1</th><th>Seat 2</th><th>Seat 3</th><th>Seat 4</th></tr>
        </thead>
        <tbody template iterate="table in tarabish.tableViews">
          <tr>
            <td>{{table.tableId}}</td>
            <td>{{table.seats.elementAt(0).isOpen}}</td>
            <td>{{table.seats.elementAt(1).isOpen}}</td>
            <td>{{table.seats.elementAt(2).isOpen}}</td>
            <td>{{table.seats.elementAt(3).isOpen}}</td>
          </tr>
        </tbody>
      </table>
    </template>

    <script type="application/dart" src="tarabish.dart"></script>
    <script src="packages/browser/dart.js"></script>
  </body>
</html>
